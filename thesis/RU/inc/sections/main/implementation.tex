\section{Проектирование и реализация системы прогнозирования взаимодействий пользователей с рекламными элементами \mbox{интернет-страниц}}
\subsection{Общая структура разрабатываемой системы}
\subsubsection{Определение потока данных разрабатываемой системы}
Для определения структуры разрабатываемой автоматизированной системы, реализующей алгоритм прогнозирования взаимодействий
пользователей с рекламными элементами интернет-страниц для начала определим диаграмму потока данных, используемых при
построении прогноза.

Диаграмма потока данных (англ. Data Flow Diagram, DFD) -- методология представления потока данных, используемых или
пораждаемых в процессе или системе. Такой способ визуализации был следствием развития одного из класса UML диаграм
диаграмм деятельности (англ. Activity Diagram)~\autocite{impl:ad}. В 70-ые годы прошлого столетия данная методология
приобрела большую популярность благодаря работе~\autocite{impl:dfd} коллектива под руководством Эдварда Йордана и
Ларри Константина.

Главное достоинство данного вида представления заключается в легком способе построения высокоуровневой абстракции
потока данных в разрабатываемой системе. Один из вариантов диаграммы потока данных является нотация 
Йордана~\autocite{impl:yourdan}, для которой определены следующие компоненты:
\begin{enumerate}
    \item процесс (функция, трансформация) требуется для представления каким образом система обрабатывает 
    входные данные, на диаграмме изображается в виде круга с текстом, кратко описывающем детали обработки;
    \item хранилище определяет коллекцию данных в состоянии покоя (отсутствия процесса обработки над данными),
    на диаграмме изображается двумя параллельными отрезками и текстом, кратко характеризующим тип хранилища и
    коллекцию данных; 
    \item терминаторы представляют собой внешние объекты, с которыми взаимодействует система, графически представлены
    в виде прямоугольника;
    \item поток визуализирует порядок перехода данных от одного процесса или хранилища к другому процессу или
    хранилищу, на диаграмме изображается при помощи однонаправленной стрелки.
\end{enumerate}

При построении начального приближения диаграммы потока данных разрабатываемой системы прогнозирования взаимодействий
пользователей с рекламными элементами интернет-страниц воспользуемся блок схемой алгоритма на 
рисунке~\ref{img:algo-flowchart}.

Входными данными, использумыми в процессе работы разрабатываемой системы, является протокол работы рекламной системы.
Процессами для обработки данных будут являться процессы простроения вероятностной выборки и статистики метрик,
прогноза метрик и протокола работы и калибровочный процесс. В качестве хранилища должна выступать файловая система
вычислительной машины, на которой запущена система. Высокоуровневая диаграмма потока данных разрабатываемого приложения
представлена на рисунке ~\ref{img:dataflowchartinit}.
\input{inc/images/dataflowchartinit}

\subsubsection{Диаграмма классов разрабатываемой системы}
В соответствиии с диаграммой потока данных, изображенной на рисунке~\ref{img:dataflowchartinit} представим поток обработки
в виде следуюших стадий:
\begin{enumerate}
    \item предварительная обработка исходного протокола с целью приведения к виду, приемлимому для дальнейшего использования;
    \item проведение вероятностной выборки взаимодействий из предобработанного протокола работы;
    \item построение статистики метрик количества взаимодействий и количества уникальных пользователей на основе данных
    из предобработанного протокола работы;
    \item построение прогноза протокола работы рекламной системы на основе выборки и статистики;
    \item построение прогнозов метрик количества взаимодействий и количества уникальных пользователей на основе собранной
    статистики;
    \item проведение калибровочного процесса;
    \item построение итогового прогноза протокола работы рекламной системы.
\end{enumerate}

Для реализации данных стадий разработан набор классов, каждый из которых обеспечивает необходимую функциональность и
возможность параметризации. Для доступа к хранилищу реализован класс, обеспечивающий функциональность чтения--записи
исходных и порождаемых в процессе работы системы данных. Для визуализации описания классов, их атрибутов и 
методов используется диаграмма классов (англ. Static Structure Diagram),

Диаграмма классов -- структурная диаграмма языка моделирования UML, предназначенная для демонстрации иерархии классов,
их композиций и отношений, членов класса (атрибутов и методов)~\autocite{impl:ad}. Каждый элемент диаграммы классов представляет собой
ячейку, содержащую три компоненты:
\begin{enumerate}
    \item имя класса, пишется жирным шрифтом по центру ячейки (в случае если класс абстрактный, начертание должно быть жирным
    и курсивным);
    \item атрибуты класса, выравненивание по левому краю;
    \item методы класса, выравненивание по левому краю.
\end{enumerate}

В случае данной работы, в качестве классов для реализации функциональности стадий используются 6 классов стадий, каждый
из которых имеет публичный метод \texttt{run}, выполнящий запуск стадии и обработку данных, детали которой определяются
конкретной имплементацией метода. Стадии имеют доступ к хранилищу данных благодаря полю \texttt{provider}. Параметризация
стадий достигается путем введение специлизированных полей в классы, так для стадии калибровки класс \texttt{CalibrationStage}
включает поля границ решения СЛАУ \texttt{left\_border} и \texttt{right\_border} и точность решения \texttt{tolerance}. Класс
\texttt{DataProvider} реализует функциональность чтения-записи данных. 

Диаграмма классов, используемых при реализации системы изображена
на рисунке~\eqref{img:uml}.
\input{inc/images/uml}

